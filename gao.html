<!doctype html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
  <style type="text/css">
    body,html,#container{
      height: 100%;
      margin: 0px;
    }
  </style>
  <title>快速入门</title>
</head>
<body>
  <div id="container" tabindex="0"></div>
  <script type="text/javascript" src="https://webapi.amap.com/maps?v=1.3&key=fe7500f9bcdab914ed3d65664b287e43"></script>
  <script type="text/javascript">
    var map = new AMap.Map('container',{
      resizeEnable: true,
      zoom: 10,
      center: [116.480983, 40.0958]
    });
    
    var options={
                  enableHighAccuracy:true, //boolean 是否要求高精度的地理信息，默认为false
                  maximumAge:1000 //应用程序的缓存时间
                }
                if (navigator.geolocation) {

                  console.log("浏览器支持!");
                  navigator.geolocation.getCurrentPosition(onSuccess,onError,options);

                }

                else {

                  console.log("浏览器不支持!");

                }       

  //成功时
  function onSuccess(position){
               //返回用户位置
               //经度
               var longitude =position.coords.longitude;
               //纬度
               var latitude = position.coords.latitude;
               // alert(longitude+","+latitude);
               map.setCenter(new AMap.LngLat(longitude,latitude));
             }
             
             
           //失败时
           function onError(error){
            switch(error.code){
              case error.PERMISSION_DENIED:
              alert("用户拒绝对获取地理位置的请求");
              break;
              
              case error.POSITION_UNAVAILABLE:
              alert("位置信息是不可用的");
              break;
              
              case error.TIMEOUT:
              alert("请求用户地理位置超时");
              break;
              
              case error.UNKNOWN_ERROR:
              alert("未知错误");
              break;
            }
            
          }


        </script>
      </body>
      </html>