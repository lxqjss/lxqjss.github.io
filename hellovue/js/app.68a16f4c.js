(function(e){function t(t){for(var r,a,u=t[0],c=t[1],l=t[2],s=0,d=[];s<u.length;s++)a=u[s],o[a]&&d.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);p&&p(t);while(d.length)d.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,a=1;a<n.length;a++){var u=n[a];0!==o[u]&&(r=!1)}r&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={app:0},o={app:0},i=[];function u(e){return c.p+"js/"+({about:"about"}[e]||e)+"."+{about:"e3db480e","chunk-2d0aef44":"55720875","chunk-6ba837dd":"cc467be5"}[e]+".js"}function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={about:1,"chunk-6ba837dd":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise(function(t,n){for(var r="css/"+({about:"about"}[e]||e)+"."+{about:"93929389","chunk-2d0aef44":"31d6cfe0","chunk-6ba837dd":"12889c73"}[e]+".css",o=c.p+r,i=document.getElementsByTagName("link"),u=0;u<i.length;u++){var l=i[u],s=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(s===r||s===o))return t()}var d=document.getElementsByTagName("style");for(u=0;u<d.length;u++){l=d[u],s=l.getAttribute("data-href");if(s===r||s===o)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var r=t&&t.target&&t.target.src||o,i=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");i.request=r,delete a[e],p.parentNode.removeChild(p),n(i)},p.href=o;var h=document.getElementsByTagName("head")[0];h.appendChild(p)}).then(function(){a[e]=0}));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var i=new Promise(function(t,n){r=o[e]=[t,n]});t.push(r[2]=i);var l,s=document.createElement("script");s.charset="utf-8",s.timeout=120,c.nc&&s.setAttribute("nonce",c.nc),s.src=u(e),l=function(t){s.onerror=s.onload=null,clearTimeout(d);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src,i=new Error("Loading chunk "+e+" failed.\n("+r+": "+a+")");i.type=r,i.request=a,n[1](i)}o[e]=void 0}};var d=setTimeout(function(){l({type:"timeout",target:s})},12e4);s.onerror=s.onload=l,document.head.appendChild(s)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/hellovue/",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var p=s;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"497f":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{height:"100%",width:"100%","text-align":"left"}},[n("div",{ref:"mapboxContainer",style:e.mapSize})])},a=[],o=(n("ac6d"),n("e192")),i=n.n(o),u=n("d225"),c=n("b0b4"),l=n("5a89"),s=n("bd2e"),d=n.n(s),p="/hellovue",h=function(e,t){var n=20037508.34,r=e*n/180,a=Math.log(Math.tan((90+t)*Math.PI/360))/(Math.PI/180);return a=a*n/180,[(r+n)/(2*n),1-(a+n)/(2*n)]},f=h(120.22450447,30.23155861728),m={translateX:f[0],translateY:f[1],translateZ:0,rotateX:Math.PI/2,rotateY:0,rotateZ:0,scale:5.041843220338983e-7},b=function(){function e(){Object(u["a"])(this,e),this.id="custom_layer",this.type="custom",this.camera=new l["Camera"],this.scene=new l["Scene"];var t=new l["DirectionalLight"](16777215);t.position.set(0,-70,100).normalize(),this.scene.add(t);var n=new l["DirectionalLight"](16777215);n.position.set(0,70,100).normalize(),this.scene.add(n);var r=new d.a;r.load("".concat(p.length>1?p:"","/model3d/buildingtower/34M_17.gltf"),function(e){this.scene.add(e.scene)}.bind(this))}return Object(c["a"])(e,[{key:"onAdd",value:function(e,t){this.map=e,this.renderer=new l["WebGLRenderer"]({canvas:e.getCanvas(),context:t}),this.renderer.autoClear=!1}},{key:"render",value:function(e,t){var n=(new l["Matrix4"]).makeRotationAxis(new l["Vector3"](1,0,0),m.rotateX),r=(new l["Matrix4"]).makeRotationAxis(new l["Vector3"](0,1,0),m.rotateY),a=(new l["Matrix4"]).makeRotationAxis(new l["Vector3"](0,0,1),m.rotateZ),o=(new l["Matrix4"]).fromArray(t),i=(new l["Matrix4"]).makeTranslation(m.translateX,m.translateY,m.translateZ).scale(new l["Vector3"](m.scale,-m.scale,m.scale)).multiply(n).multiply(r).multiply(a);this.camera.projectionMatrix.elements=t,this.camera.projectionMatrix=o.multiply(i),this.renderer.state.reset(),this.renderer.render(this.scene,this.camera),this.map.triggerRepaint()}}]),e}(),g=b,v={props:{mapWidth:{type:String},mapHeight:{type:String}},data:function(){return{}},mounted:function(){this.init()},methods:{init:function(){i.a.accessToken="pk.eyJ1IjoibHhxanNzIiwiYSI6ImNqY3NkanRjajB1MWwzM3MwcnA0dDJrYngifQ.ApTVfmm2zBM_kF22DvtowQ";var e=new i.a.Map({container:this.$refs.mapboxContainer,style:"mapbox://styles/mapbox/dark-v9",center:[120.21093,30.2263],zoom:14.2,pitch:60,heading:41,hash:!0});e.addControl(new i.a.NavigationControl),e.on("load",function(){e.addLayer({id:"3d-buildings",source:"composite","source-layer":"building",filter:["==","extrude","true"],type:"fill-extrusion",minzoom:11,paint:{"fill-extrusion-color":"#aaa","fill-extrusion-height":["interpolate",["linear"],["zoom"],12,0,12.05,["get","height"]],"fill-extrusion-base":["interpolate",["linear"],["zoom"],12,0,12.05,["get","min_height"]],"fill-extrusion-opacity":.6}}),e.addLayer(new g)})}},computed:{mapSize:function(){var e={width:this.mapWidth,height:this.mapHeight};return e}}},y=v,w=n("2877"),x=Object(w["a"])(y,r,a,!1,null,null,null);t["a"]=x.exports},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},o=[],i=(n("7c55"),n("2877")),u={},c=Object(i["a"])(u,a,o,!1,null,null,null),l=c.exports,s=n("8c4f"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Mapbox",{attrs:{mapWidth:"100%",mapHeight:"800px"}})],1)},p=[],h=n("497f"),f={name:"mapbox",components:{Mapbox:h["a"]}},m=f,b=Object(i["a"])(m,d,p,!1,null,null,null),g=b.exports;r["a"].use(s["a"]);var v=new s["a"]({mode:"history",base:"/hellovue/",routes:[{path:"/",name:"home",component:g},{path:"/about",name:"about",component:function(){return n.e("about").then(n.bind(null,"f820"))}},{path:"/mapbox",name:"mapbox",component:function(){return n.e("chunk-2d0aef44").then(n.bind(null,"0bea"))}},{path:"/ol",name:"ol",component:function(){return n.e("chunk-6ba837dd").then(n.bind(null,"c5f5"))}}]}),y=n("2f62");r["a"].use(y["a"]);var w=new y["a"].Store({state:{},mutations:{},actions:{}});r["a"].config.productionTip=!1,console.log("app logged",l),new r["a"]({router:v,store:w,render:function(e){return e(l)}}).$mount("#app")},"5c48":function(e,t,n){},"7c55":function(e,t,n){"use strict";var r=n("5c48"),a=n.n(r);a.a}});
//# sourceMappingURL=app.68a16f4c.js.map